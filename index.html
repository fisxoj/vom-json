<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="stylesheet" href="default.css" type="text/css" />
<title>vom-json</title>
<meta name="Author" content="Matt Novenstern <

fisxoj@gmail.com

>" />
</head>
<body>
<div id="id1" class="document"><h1 class="title">vom-json</h1>
<table class="docinfo" frame="void" rules="none"><col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr><th class="docinfo-name">Author</th><td>Matt Novenstern &lt;<a class="reference" href="mailto:fisxoj@gmail.com"><span>fisxoj@gmail.com</span></a>&gt;</td></tr><tr><th class="docinfo-name">Version</th><td>2</td></tr><tr class="field"><th colspan="1" class="docinfo-name">license:</th><td class="field-body">MIT</td>
</tr>
</tbody>
</table>
<div class="image image-reference"><a class="reference" href="https://travis-ci.org/fisxoj/vom-json"><span><img src="https://travis-ci.org/fisxoj/vom-json.svg?branch=master" alt="Travis CI status badge" /></span></a></div>
<div class="image image-reference"><a class="reference" href="CODE_OF_CONDUCT.md"><span><img src="https://img.shields.io/badge/Contributor%20Covenant-v1.4%20adopted-ff69b4.svg" alt="Contributor Covenant" /></span></a></div>
<table class="field-list" frame="void" rules="none"><col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th colspan="1" class="field-name">Source:</th><td class="field-body"><a class="reference" href="https://github.com/fisxoj/vom-json"><span>https://github.com/fisxoj/vom-json</span></a></td>
</tr>
<tr class="field"><th colspan="1" class="field-name">Docs:</th><td class="field-body"><a class="reference" href="https://fisxoj.github.io/vom-json/"><span>https://fisxoj.github.io/vom-json/</span></a></td>
</tr>
</tbody>
</table>
<p>vom-json is a complementary library to <a class="reference" href="https://github.com/orthecreedence/vom"><span>vom</span></a>, which changes the logger syntax to something like <a class="reference" href="https://github.com/KyleRoss/node-lambda-log/"><span>lambda-log</span></a> which outputs its log messages in the JSON format.  In some environments like AWS insights, this makes the log data more searchable.</p>
<p>You can use it two ways:</p>
<p>Wrap the body of your program in it using <a class="reference ref-macro" href="vom-json.html#macro-with-json-logging"><span class="ref-macro">vom-json:with-json-logging</span></a>:</p>
<pre class="literal-block">
(vom-json:with-json-logging
  (vom:error "Oh noes!"))
;; =&gt; {"_logLevel":"error","_timestamp":"2020-05-11T18:23:58.569136Z","msg":"Oh noes!","_tags":[],"_package":"common-lisp-user"}
</pre><p>Enable the logger globally:</p>
<pre class="literal-block">
(vom-json:enable-json-logging)
</pre><p>This project is extremely inspired by <a class="reference" href="https://github.com/40ants/log4cl-json/"><span>log4cl-json</span></a>.</p>
<div id="packages" class="section"><h2><a name="packages">Packages</a></h2>
<ul>
<li><p class="first last"><a class="reference" href="vom-json.html"><span>vom-json</span></a></p>
</li>
</ul>
</div>
<hr class ="docutils footer" /><div class="footer">Generated on : Tue, 12 May 2020 23:20:20 .
</div>
</div>
</body>
</html>